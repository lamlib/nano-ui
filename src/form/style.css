@import url("../share/style.css");

:root {
    --form-radius: 0.5rem;
    --form-border: 1px solid color-mix(in srgb, var(--color-component-02) 80%, transparent);
    --form-focus-ring: 0 0 0 3px color-mix(in srgb, var(--color-primary) 18%, transparent);
}

.nano-input,
.nano-input-text,
.nano-input-password,
.nano-input-email,
.nano-input-number,
.nano-input-tel,
.nano-input-url,
.nano-input-search,
.nano-input-textarea,
.nano-input-select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    font: inherit;
    font-size: 0.9375rem;
    color: var(--color-foreground);
    background: var(--color-light);
    border: var(--form-border);
    border-radius: var(--form-radius);
    padding: 0.625rem 0.875rem;
    min-height: 44px;
    width: 100%;
    max-width: 100%;
    transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
}

.nano-input:hover,
.nano-input-textarea:hover,
.nano-input-select:hover {
    border-color: color-mix(in srgb, var(--color-component-02) 100%, var(--color-primary) 10%);
}

.nano-input:focus,
.nano-input-textarea:focus,
.nano-input-select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: var(--form-focus-ring);
    background: var(--color-light);
}

.nano-input:disabled,
.nano-input-textarea:disabled,
.nano-input-select:disabled {
    cursor: not-allowed;
    opacity: 0.6;
    background: var(--color-component-02);
    box-shadow: none;
}

.nano-input:invalid:not(:placeholder-shown):not(:focus),
.nano-input-textarea:invalid:not(:placeholder-shown):not(:focus) {
    border-color: var(--color-danger);
}

.nano-input::placeholder,
.nano-input-textarea::placeholder {
    color: var(--color-secondary);
}

.nano-input-textarea {
    min-height: 96px;
    resize: vertical;
    padding: 0.625rem 0.875rem;
    line-height: 1.5;
}

.nano-input-select {
    padding-right: 2.25rem;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.875rem center;
    background-size: 14px;
    cursor: pointer;
}

.nano-input-search[type="search"]::-webkit-search-cancel-button,
.nano-input-search[type="search"]::-webkit-search-decoration {
    appearance: none;
    -webkit-appearance: none;
}

.nano-input-number[type="number"]::-webkit-outer-spin-button,
.nano-input-number[type="number"]::-webkit-inner-spin-button {
    appearance: none;
    -webkit-appearance: none;
    margin: 0;
}
.nano-input-number[type="number"] {
    appearance: textfield;
    -moz-appearance: textfield;
}

.nano-input[type="range"] {
    height: 6px;
    padding: 0;
    min-height: unset;
    background: var(--color-component-02);
    border: none;
    border-radius: 999px;
    box-shadow: none;
}
.nano-input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--color-light);
    cursor: pointer;
    border: 2px solid var(--color-primary);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}
.nano-input[type="range"]:hover::-webkit-slider-thumb {
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-primary) 30%, transparent);
}
.nano-input[type="range"]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--color-light);
    cursor: pointer;
    border: 2px solid var(--color-primary);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}
.nano-input[type="range"]:hover::-moz-range-thumb {
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-primary) 30%, transparent);
}

.nano-input[type="color"] {
    padding: 3px;
    height: 44px;
    min-height: 44px;
    cursor: pointer;
}
.nano-input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
.nano-input[type="color"]::-webkit-color-swatch {
    border: none;
    border-radius: calc(var(--form-radius) - 2px);
}
.nano-input[type="color"]::-moz-color-swatch {
    border: none;
    border-radius: calc(var(--form-radius) - 2px);
}

.nano-input[type="file"] {
    padding: 0.35rem 0.75rem;
    min-height: unset;
}
.nano-input[type="file"]::file-selector-button {
    appearance: none;
    -webkit-appearance: none;
    font: inherit;
    font-size: 0.875rem;
    padding: 0.5rem 0.875rem;
    margin-right: 0.875rem;
    border: var(--form-border);
    border-radius: var(--form-radius);
    background: var(--color-component-02);
    color: var(--color-foreground);
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.nano-input[type="file"]::file-selector-button:hover {
    background: var(--color-component-03);
}

.nano-input[type="checkbox"],
.nano-input[type="radio"] {
    width: 1.25rem;
    height: 1.25rem;
    min-height: unset;
    padding: 0;
    accent-color: var(--color-primary);
    cursor: pointer;
    vertical-align: middle;
    border-radius: 0.25rem;
    box-shadow: none;
}
.nano-input[type="radio"] {
    border-radius: 50%;
}

.nano-field {
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
    margin-bottom: 1.25rem;
}
.nano-field label {
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: 0.01em;
    color: var(--color-foreground);
}
.nano-field .nano-field-message {
    font-size: 0.8125rem;
    color: var(--color-secondary);
    margin-top: 0.125rem;
}
.nano-field.nano-field--error .nano-field-message {
    color: var(--color-danger);
}
.nano-field.nano-field--error .nano-input,
.nano-field.nano-field--error .nano-input-textarea {
    border-color: var(--color-danger);
}

/* ---------- Form wrapper ---------- */
.nano-form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    max-width: 28rem;
}

.nano-form .nano-form-actions {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-top: 0.25rem;
}

/* ---------- Fieldset & legend ---------- */
.nano-fieldset,
fieldset {
    border: var(--form-border);
    border-radius: var(--form-radius);
    padding: 1.25rem;
    margin: 0 0 1.25rem 0;
    background: color-mix(in srgb, var(--color-light) 95%, var(--color-component-01));
}
.nano-legend,
legend {
    font-size: 0.875rem;
    font-weight: 600;
    letter-spacing: 0.01em;
    color: var(--color-foreground);
    padding: 0 0.5rem;
}

/* ---------- Output, progress, meter ---------- */
output {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-foreground);
}
progress {
    width: 100%;
    height: 8px;
    border: none;
    border-radius: 999px;
    background: var(--color-component-02);
    overflow: hidden;
}
progress::-webkit-progress-bar {
    background: var(--color-component-02);
    border-radius: 999px;
}
progress::-webkit-progress-value {
    background: linear-gradient(90deg, var(--color-primary), color-mix(in srgb, var(--color-primary) 85%, white));
    border-radius: 999px;
    transition: width 0.25s ease;
}
progress::-moz-progress-bar {
    background: var(--color-primary);
    border-radius: 999px;
}
meter {
    width: 100%;
    height: 10px;
    border: none;
    border-radius: 999px;
    background: var(--color-component-02);
    overflow: hidden;
}
meter::-webkit-meter-bar {
    background: var(--color-component-02);
    border-radius: 999px;
}
meter::-webkit-meter-optimum-value {
    background: linear-gradient(90deg, var(--color-success), color-mix(in srgb, var(--color-success) 85%, white));
    border-radius: 999px;
}
meter::-moz-meter-bar {
    background: var(--color-primary);
    border-radius: 999px;
}
